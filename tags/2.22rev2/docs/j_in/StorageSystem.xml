<?xml version="1.0" encoding="Shift_JIS" ?>
<doc>
<title>ストレージシステム</title>

<para>
<ptitle>ストレージシステムについて</ptitle>
　吉里吉里ではファイルやアーカイブ内のファイル、その他のリソースについて、ファイルではなくてあえて「ストレージ」と呼んでいます。<r/>
</para>


<para>
<ptitle>統一ストレージ名</ptitle>
　統一ストレージ名とは、吉里吉里内のみで用いられるストレージを表す名前で、URI に似た方法でストレージを表します。<r/>
　表記は、<r/>
<r/>
<tt>メディア://ドメイン/パス</tt><r/>
<r/>
　の形式で行われます。パスの区切り文字は / (スラッシュ) を用います。<r/>
</para>

<para>
<ptitle>ローカルストレージ</ptitle>
　ローカルストレージ ( ローカルファイル ) を表す統一ストレージ名は、メディアに file 、ドメインに . (ドット) を用います。また、Windows の場合はパスの先頭はドライブ文字になります。<r/>
<r/>
　たとえば、C:\Program Files\Game\game.exe は、<r/>
<tt>file://./c/program files/game/game.exe</tt><r/>
　となります。<r/>
<r/>
　<at href="f_Storages_getFullPath.html">Storages.getFullPath</at> メソッドは、OS の使うファイル名から統一ストレージ名への変換を行うことができます。この過程で、ファイル名中の大文字はすべて小文字に変換されます ( ローカルストレージについては大文字と小文字は区別されません )。また、パス区切りに \ が用いられている場合は / に変換されます。<r/>
　<at href="f_Storages_getLocalName.html">Storages.getLocalName</at> メソッドは、統一ストレージ名から OS の使うファイル名への変換を行うことができます。吉里吉里以外のアプリケーションにストレージ名を渡す場合などはこのメソッドを使用する必要があります。<r/>
</para>

<para>
<ptitle>アーカイブストレージ</ptitle>
　アーカイブ内のストレージを指定する場合は、 &gt; で区切り、&gt; より前をアーカイブストレージのストレージ名、&gt; より後をアーカイブ内でのパスに指定します。<r/>
<r/>
　たとえば、file://./c/program files/game/game.xp3 内の image/base.jpg というストレージならば、<r/>
<tt>file://./c/program files/game/game.xp3&gt;image/base.jpg</tt><r/>
　となります。<r/>
　2.19 beta 14 よりアーカイブの区切り文字が '#' から '&gt;' に変わりました。<r/>
<r/>
　吉里吉里は標準で XP3 という吉里吉里独自形式のアーカイブストレージを扱うことができます ( XPK の第３世代の形式なので XP3 )。XP3 形式のアーカイブの作成方法については <link href="Releaser"/> を参照してください。<r/>
　XP3 アーカイブは実行可能ファイルと結合することができます。この場合は吉里吉里は実行可能ファイルを一つのアーカイブファイルとして見なすことができます ( Releaser は 吉里吉里本体との結合しかサポートしていません )。<r/>
</para>

<para>
<ptitle>プロジェクトフォルダ</ptitle>
　吉里吉里でゲームやツールなどを作る場合、必要なファイルはすべて「プロジェクトフォルダ」にまとめて開発を行うのが一般的です。吉里吉里は、起動時にプロジェクトフォルダを現在のカレントフォルダに設定します。<r/>
　プロジェクトフォルダ内の相対パスですべてを指定しておけば、Releaser で単一の実行可能ファイルなどにしてもパス指定を変える必要はありません。<r/>
</para>


</doc>
