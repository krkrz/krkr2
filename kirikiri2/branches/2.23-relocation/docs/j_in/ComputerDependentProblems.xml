<?xml version="1.0" encoding="Shift_JIS" ?>
<doc>
<title>環境依存の不具合について</title>

<para>
<ptitle>環境依存の不具合</ptitle>
エンドユーザ(二次ユーザ)の環境の不具合に起因する、吉里吉里の不具合とその対策です。<r/>
吉里吉里の制作においては環境依存の不具合が出ないように尽力していますが、コンピュータの設定や構成は非常に多様である為、環境依存の不具合はどうしても発生してしまいます。<r/>
個別の症状に対する対処で対応できる場合もありますが、全般的には、以下のような対策を講じていただいてください。<r/>
<ul>
<li>ドライバを最新の安定した物にしていただく</li>
<li>常駐物(とくにウィルス対策ソフトウェアやメモリクリーナー系ソフトなど、他ソフトと競合を起こしやすい物)をはずしていただく</li>
<li>各種チェックツール(「ディスクのチェック」(OS標準のディスクチェックツール)、<at  target="_top"  href="http://www.memtest86.com/">memtest86</at>など)でコンピュータをチェックしていただく</li>
<li>HDDの残り容量は十分あるかをチェックして頂く</li>
<li><at target="_top" href="http://homepage2.nifty.com/winfaq/">WinFAQ</at> (おだ氏のページ) などを参照して、似たような症状が起きてないかを探し、それに応じて対処して頂く</li>
<li>いったんセーフモードで起動してから通常モードで起動し直して頂く</li>
<li>OSを再インストールしていただく</li>
</ul>
吉里吉里のエンジンに対して設定できるオプションは、ほとんどが環境依存の不具合の対処の為にあります。<link href="CommandLine" />もご覧ください。<r/>
</para>


<para>
<ptitle>環境依存の症状</ptitle>
下記において「エンジン設定」とは、エンドユーザ向け設定ツール (エンジン設定.exe)のことです。<r/>



<dl>




<dt>インストールしたデータが壊れている</dt>
<dd>症状としては「読み込みエラーが発生しました」等の読み込みエラー系エラーの発生や「作品実行中にフリーズする」、「EAccessViolationエラーが出る」、そのほか予測不可能な動作をします。<r/>
インストールしたデータが壊れている可能性があるので、「ファイル破損チェックツール」などを用いて、インストールしたデータが破損してないかを確認していただいてください。</dd>


<dt>フルスクリーン化に失敗する</dt>
<dd>フルスクリーンに失敗する場合、あるいはフルスクリーンからの復帰に失敗する(エラーが出る、フリーズする等の)場合は、エンドユーザの環境のDirectDrawに問題がある可能性があります。「エンジン設定」にて「フルスクリーン切り替え方法」を「ChangeDisplaySettings API」に変更していただいてください。</dd>

<dt>ビデオ再生に失敗する</dt>
<dd>ビデオ再生に失敗する、あるいはビデオ再生中にエラーが発生する場合は、エンドユーザ環境下にインストールされているビデオ再生コーデックに異常がある場合があります。<r/>
Microsoft標準のコーデック(OS付属のコーデック)以外("ffdshow"や"PowerDVD"など)では正常に再生できない場合があります。これらのソフトをもしインストールしている場合は、アンインストールしていただいてください。<r/>
また、<at  target="_top"  href="http://hp.vector.co.jp/authors/VA032094/DFTool.html">DirectShow Filter Tool</at> (one92氏のページ) で "MPEG2 Splitter" において、OS標準の "MPEG-2 Demultiplexer" と "MPEG-2 Splitter" が最上位になるように設定していただいてください。そのほか、OS 標準の物でない、サードパーティ製ドライバが上位に来ているようならば、OS 標準の物 (WindowsのSystemディレクトリやSystem32ディレクトリに入っている物) を最上位に来るように調整していただいてください。<r/>
スクリプト側で、ビデオの再生をしないような設定を設けることもお勧めします。<r/>
そのほか、以下のリンクも参考にしてください。<r/>
<at  target="_top"  href="http://www.microsoft.com/downloads/details.aspx?FamilyID=3c9464fb-7cd7-461b-ad24-6a4d1c5df8ff&amp;displaylang=ja">Windows XP 修正プログラム : ゲームの導入部のビデオ クリップを再生中に、ゲームが応答しなくなったり、突然終了したりする</at><r/>
</dd>


<dt>フルスクリーンにしようとすると吉里吉里コアがネットワークに接続しようとする</dt>
<dd>フルスクリーンにしようとすると、吉里吉里コアがインターネットに接続しようとするとして、セキュリティ対策ソフトウェア等から警告が出る場合があります。<r/>
吉里吉里はフルスクリーンにする際になって初めてDirectDrawをロードしますが、その際にDirectDrawのドライバのバージョンを調べます。この時、ドライバ署名の有効性の確認の為に crl.microsoft.com に接続を行う場合があります。これは、インターネットオプション (Internet Explorerからは [ツール] - [インターネットオプション]) の「詳細設定」タブ内の「発行元証明書の取り消しを確認する」にチェックが入っていると行われます。<r/>
この症状は、吉里吉里がドライバのバージョンを調べる際に、OSがそのドライバの署名の有効性を確認する為に行われるものであって、スパイウェアに類する処理ではありませんのでご安心ください。<r/>
エンドユーザが気になさる場合は、前述の「発行元証明書の取り消しを確認する」のチェックをはずして頂くか、セキュリティ対策ソフトウェアなどで該当アドレスへの接続を禁止して頂いてください。吉里吉里自体の動作に影響はありません。<r/>
</dd>

<dt>サウンドがとぎれたり、鳴らなくなったり、サウンド再生中にフリーズする</dt>
<dd>サウンドカードや環境によっては、ブツブツと再生がとぎれとぎれになったり、ノイズが乗ったり、途中から音が聞こえなくなったりします。場合によってはサウンドの再生中に限ってフリーズするなどの症状が現れます。<r/>
それがトランジション(画面切り替え)や重たいエフェクト中に発生するならば、エンジン設定で「システム全般-低優先度」を「する」に設定するか、「システム全般-CPU使用率低減」を「する」に設定することで改善する場合があります。<r/>
そのほか、エンジン設定で、「サウンド-DirectSound ソフトウェアミキシング」を「ソフトウェアのみ」にしても改善する場合があります。<r/>
あるいはコントロールパネルの「マルチメディア」(または「サウンドとマルチメディア」や「サウンドとオーディオ デバイスのプロパティ」)の「オーディオ」タブの「音の再生」の「詳細設定」を開き、「パフォーマンス」タブの「ハードウェア アクセラレータ」のスライダーを「なし」の方向に徐々に動かしつつ試行していただいてください。<r/>
</dd>

<dt>操作がうまくできない</dt>
<dd>マウス移動支援やマウスジェスチャー実現ツールなどのソフトウェアが常駐していると、作品の操作をすることができない場合があります。このようなソフトの常駐を解除していただいてください。<r/>
サードパーティの(OS標準ではない)マウスドライバを導入していると、操作系に不具合を生じる可能性があります。このような場合はサードパーティ製のドライバを無効にするかアンインストールし、OS標準のドライバを使っていただいてください。<r/>
ゲームパッド対応ソフトウェアにおいてゲームパッド(ジョイスティック)がつながっている場合、パッドの不具合が原因で作品を操作できない場合があります。パッドの上に物が乗っている為にパッドのボタンが押された状態になってしまっていないかを、確認していただいてください。<r/>
また、ゲームパッド(ジョイスティック)が接続されていないと、パッドのボタンが押されている状態として検知してしまう環境があります。このような場合は、パッドのドライバを無効にしていただいてください。<r/>
ゲームパッドやジョイスティックの軸のセンターの調整が不十分のため操作に不具合がでる場合があります。この場合は、コントロールパネルの「ゲーム コントローラ」から、ゲームコントローラの調整をしていただいてください。<r/>
</dd>


<dt>スラッシングが頻繁に起こる</dt>
<dd>メモリ不足が原因で、スラッシング(大量のスワップイン・スワップアウト)が頻繁に起こる場合があります。<r/>
エンジン設定で「システム全般-メモリ使用量」を「低い」に設定すると改善する場合があります。<r/>
ただし、パフォーマンスが低下しますので、「システム全般-メモリ使用量」のオプションは変更せずに、「グラフィック-画像キャッシュ制限」を「4MB」や「8MB」などの比較的低い値に設定することで、パフォーマンスをあまり低下させずにメモリ使用量を減らすことができる可能性があります。<r/>
</dd>







</dl>

</para>


</doc>
